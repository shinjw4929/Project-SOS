---
name: commit
description: 현재 변경사항을 분석하여 프로젝트 컨벤션에 맞는 커밋 메시지를 작성하고 커밋합니다.
disable-model-invocation: true
allowed-tools: Bash, Read, Grep, Glob
---

## 커밋 메시지 작성 및 커밋 실행

### 1단계: 현재 변경사항 파악

다음 명령을 병렬로 실행하여 변경 내용을 파악한다:
- `git status` (untracked 파일 확인, -uall 플래그 사용 금지)
- `git diff` (staged + unstaged 변경사항)
- `git log --oneline -5` (최근 커밋 스타일 참고)

### 2단계: 커밋 메시지 작성

다음 형식을 따른다:

```
<제목: 작업 내용 요약 (한 줄)>

<세부 작업 내용>
- 변경된 파일/시스템 목록
- 수정 의도 및 해결한 문제
- 주요 변경 사항
```

**작성 원칙**:
1. **제목**: 무엇을 했는지 명확하게 요약 (예: "자원 반납 시 ResourceCenter 소유권 검증 추가")
2. **본문**: 제목과 빈 줄 하나 띄우고 세부 내용 작성
3. **의도 명시**: 단순 변경 사항 나열이 아닌, 왜 이 변경이 필요했는지 드러나도록 작성
4. **간결함**: 불필요한 설명 없이 핵심만 기술
5. **한국어 작성**: 제목과 본문 모두 한국어로 작성

### 3단계: 사용자 확인 후 커밋 실행

- 작성한 커밋 메시지를 사용자에게 보여주고 확인을 받는다
- 확인 후 관련 파일만 `git add`로 스테이징 (`git add -A` 사용 금지)
- `.env`, credentials 등 민감한 파일은 커밋하지 않는다
- HEREDOC 방식으로 커밋 메시지를 전달한다
- push는 사용자가 명시적으로 요청하지 않는 한 하지 않는다
